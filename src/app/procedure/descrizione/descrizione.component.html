<div class="centraleprocedura">
  <div class="container">
    <div class="formboxpanel">


      <mat-accordion class="accordion">
        <mat-expansion-panel class="accordion" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              <span class="material-icons">
                support_agent
              </span>
            </mat-panel-title>
            <mat-panel-description>

            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>Per terminare l'attivazione della nuova procedura, inserisci la sua denominazione e premi il pulsante "crea
            procedura"
          </p>
        </mat-expansion-panel>
      </mat-accordion>
      <br />

      <div class="MobileContent">
        <mat-label class="done">
          <div class="step_icon step_off">1</div>&nbsp;Scegli il flusso&nbsp;
        </mat-label>
        &nbsp;
        <div class="line-wrapper"><hr></div>&nbsp;
        <mat-label class="done">
          <div class="step_icon step_off">2</div>&nbsp;Scegli il RUP&nbsp;
        </mat-label>
        &nbsp;
        <div class="line-wrapper"><hr>
        </div>
        &nbsp;
        <div class="step_icon step_on">3</div>&nbsp;Descrizione&nbsp;
      </div>

      <!--div class="MobileContent">
        <mat-label class="done"> <img src="assets/img/step1off.png" /> Scegli il flusso<img
            src="assets/img/linea.png" /></mat-label>&nbsp;
        <mat-label class="done"> <img src="assets/img/step2off.png" /> Scegli il RUP </mat-label>
        &nbsp;<img src="assets/img/linea.png" /><img src="assets/img/step3on.png" /> Descrizione
        <&nbsp;<img src="assets/img/linea.png" />
        <mat-label class="done"><img src="assets/img/step4off.png" /> Termina</mat-label>
      </div-->


      <br />
      <mat-progress-bar mode="determinate" value="80"></mat-progress-bar> <br />


      <form [formGroup]="form">
        <div class="row mt-5 align-items-center">
          <div class="col">
            <div class="row align-items-center">
              <div class="col-md-7">
              </div>
            </div>
          </div>
        </div>

        <div class="form-row">

          <div class="form-group col-md-6">
            <label for="accesso">Accesso</label>
            <select id="accesso" class="form-control" [(ngModel)]="accesso" formControlName="accesso" required>
              <option label="Pubblico">Pubblico</option>
              <option label="Privato">Privato</option>
            </select>
            <div
              *ngIf="form.controls['accesso'].invalid && (form.controls['accesso'].dirty || form.controls['accesso'].touched)"
              class="alert alert-danger">
              Campo obbligatorio
              <div *ngIf="form.controls['accesso'].errors.required">
              </div>
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="nome">Azienda:</label>
            <select id="azienda" class="form-control"  [(ngModel)]="azienda" formControlName="azienda"  >
                <option></option>
                <option *ngFor="let az of aziende"  label="{{az.nome}}">{{az.id}}</option>               
            </select>
            <div
              *ngIf="form.controls['azienda'].invalid && (form.controls['azienda'].dirty || form.controls['azienda'].touched)"
              class="alert alert-danger">
              L'azienda è obbligatorio
              <div *ngIf="form.controls['azienda'].errors.required">

              </div>
            </div>
          </div>


        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="nome">Nome procedura:</label>
            <input [(ngModel)]="nome_procedura" formControlName="nome_procedura" type="text" id="nome_procedura"
              class="form-control" required />
            <div
              *ngIf="form.controls['nome_procedura'].invalid && (form.controls['nome_procedura'].dirty || form.controls['nome_procedura'].touched)"
              class="alert alert-danger">
              Il nome procedura è obbligatorio
              <div *ngIf="form.controls['nome_procedura'].errors.required">

              </div>
            </div>
          </div>


        </div>


        <button type="Submit" class="btn btn-success" (click)="Trasmetti();">Crea procedura</button>


      </form>
      <br /><br /><br /><br /><br /><br /><br /><br />
    </div>
  </div>
</div>

<div class="footer_pages">
  <img src='assets/img/logo_aleph_medium.png'>
</div>